<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
<button onclick="switch_mp3()">换歌</button>
<button onclick="audio.pause()">暂停</button>
<button onclick="audio.play()">继续</button>

<input type="range" name="slide" id="slide" style="width:300px;" value="0">
<script src="index.js"></script>
<script>
	var i = 1,
		slide = document.getElementById('slide'),
		audio = new Audio();

	audio.src = "mp3/hysxm.mp3";
	document.body.appendChild( audio );
	
	audio.play();
	audio.onplay = function(e){
		//console.log( "play" );
	};
	audio.ontimeupdate = function(e){
		var duration = isFinite(audio.duration) ? audio.duration : audio.currentTime + 1000 * 60 * 2; 
		slide.value = audio.currentTime * 100 / duration;
	};
	audio.onended = function(e){
		switch_mp3();
	}

	slide.onchange = function(){
		var duration = isFinite(audio.duration) ? audio.duration : audio.currentTime + 1000 * 60 * 2; 
		audio.currentTime = slide.value * duration / 100;
	};

	function switch_mp3 () {
		i = (i+1) % 2;
		audio.src = ["mp3/dh.mp3","mp3/hysxm.mp3"][i];
		audio.play();
	}

</script>
</body>
</html>